"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ShellSignCommandBuilder=void 0;const common_sign_command_builder_js_1=require("./common-sign-command-builder.js"),hos_sdk_info_js_1=require("../../../sdk/hos-sdk-info.js"),sign_util_js_1=require("../sign-util.js");class ShellSignCommandBuilder extends common_sign_command_builder_js_1.CommonSignCommandBuilder{constructor(e,i,s,n,t){super(e,i,s,n,t)}getSignTool(){return hos_sdk_info_js_1.HosSdkInfo.getInstance(this._projectModel.getCompileApiVersion()).getApkSignerJar()}initCommandParams(e){this._signingOptions.sign().addKs(e.storeFile).addKsPass(`pass:${this.getKeyStorePwd()}`).addKsKeyAlias(e.keyAlias).addKeyPass(`pass:${this.getKeyPwd()}`).addOut(this._signModel.getOutPutFilePath()).add(this._signModel.getInputFilePath())}getKeyPwd(){return sign_util_js_1.SignUtil.isUseDefaultShellSign(this._signingConfig.material)?this._signingConfig.material.keyPassword:super.getKeyPwd()}getKeyStorePwd(){return sign_util_js_1.SignUtil.isUseDefaultShellSign(this._signingConfig.material)?this._signingConfig.material.storePassword:super.getKeyStorePwd()}}exports.ShellSignCommandBuilder=ShellSignCommandBuilder;